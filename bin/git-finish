#!/usr/bin/env ruby
# Git Pivotal Tracker Integration
# Copyright 2013-2016 the original author or authors.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


require 'commander/import'
require 'git_pivotal_tracker_integration/finish_command'
require 'git_pivotal_tracker_integration/version'

program :name, 'Git Pivotal Tracker Integration'
program :version, GitPivotalTrackerIntegration::VERSION
program :description, 'Commands for integrating Pivotal Tracker into a Git workflow'

command :finish do |c|
  c.name = 'git-finish'
  c.syntax = 'git finish [ --no-complete ]'
  c.description = 'Finish a Pivotal Tracker story'

  c.option '--no-complete', "Suppress the 'Completes' statement in the commit message"

  c.action GitPivotalTrackerIntegration::FinishCommand, :run
end

default_command :finish
